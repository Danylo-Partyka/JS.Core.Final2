
$(function(){$('#bold_btn').click(function(){switchStyle('font-weight','700','normal');})
$('#italic_btn').click(function(){switchStyle('font-style','italic','normal');})
$('#underline_btn').click(function(){switchStyle('text-decoration-line','underline','none');})
$('#crossline_btn').click(function(){switchStyle('text-decoration-line','line-through','none');})
function switchStyle(attribute,newStyle,defStyle,property='#text'){if($(property).css(attribute)==newStyle)$(property).css(attribute,defStyle);else $(property).css(attribute,newStyle);}
$('#align_left_btn').click(function(){$('main').css('text-align','left');})
$('#align_center_btn').click(function(){$('main').css('text-align','center');})
$('#align_right_btn').click(function(){$('main').css('text-align','right');})
$('.font_cng').each(function(index,element){$(element).click(function(){let fontf=$(this).css('font-family');$('#text').css('font-family',`${fontf}`);})})
$('.font_sz').each(function(index,element){let fontsz=$(element).text();$(element).css('font-size',fontsz);$(element).click(function(){$('#text').css('font-size',`${fontsz}`);})})
$('.colors .color_block').each(function(index,element){$(element).click(function(){let textColor=$(this).css('background-color');$('#text').css('color',`${textColor}`);})})
$('#bgcolor .color_block ').each(function(index,element){$(element).click(function(){let bgColor=$(this).css('background');$('main').css('background',`${bgColor}`);})})
$('.image_block').each(function(index,element){$(element).click(function(){let bgImage=$(this).css('background');$('main').css('background',`${bgImage}`);})})
$('#inputGroupFile').on('input',function(){let bgImage=window.URL.createObjectURL($('#inputGroupFile')[0].files[0]);$('main').css('background',`url(${bgImage})`);$('main').css('background-size',`cover`);})
$('#sign_in').click(function(){let verifySignIn=verifyForm(/\w{4,15}/,'#sign_in_form input');if($('#login').val()==''||$('#password').val()==''){showFeedback('#sign_in_form');}else if(verifySignIn==false){showFeedback('#sign_in_form','Please check your login or password');}else{$('#sign_in_form').trigger('reset')
$('#signInModal').modal('hide');hideFeedback('#sign_in_form');}})
function showFeedback(form,message='Value is empty'){let feedback=$(`${form} .invalid-feedback`);feedback.text(message);feedback.show();}
function hideFeedback(form){$(`${form} .invalid-feedback`).hide();}
$('#edit_btn').click(function(){$('#menu1,#text').hide();$('#menu2,#text_field').show();$('#text_field').val($('#text').html());})
$('#save_btn').click(function(){$('#menu2,#text_field').hide();$('#menu1,#text').show();$('#text').html($('#text_field').val());})
$('#create_table').click(function(){if(verifyTableForm()){let tableContainer=$('<div></div>');let table=$('<table></table>');for(let i=0;i<$('#tr_number').val();i++){let tr=$('<tr></tr>');for(let j=0;j<$('#td_number').val();j++){let td=$('<td>TD</td>');td.css({width:$('#td_width').val(),height:$('#td_height').val(),borderWidth:$('#border_width').val(),borderStyle:$('#border_style option:selected').val(),borderColor:$('#border_color option:selected').val()})
tr.append(td);}
table.append(tr)}
tableContainer.append(table);$('#text_field').val($('#text_field').val()+tableContainer.html());hideFeedback('#table_form');}else{showFeedback('#table_form','Invalid value');}})
$('#reset_table').click(function(){$('#table_form').trigger('reset');$('#table_form .is-invalid').removeClass('is-invalid');$('#table_form .invalid-feedback').hide();})
$('#create_ol').click(function(){createList('#ol_form','ol');})
$('#reset_ol').click(function(){$('#ol_form').trigger('reset');$('#ol_form .is-invalid').removeClass('is-invalid');$('#ol_form .invalid-feedback').hide();})
$('#create_ul').click(function(){createList('#ul_form','ul');})
$('#reset_ul').click(function(){$('#ul_form').trigger('reset');$('#ul_form .is-invalid').removeClass('is-invalid');$('#ul_form .invalid-feedback').hide();})
function createList(form,type){if(verifyList(form)){let listContainer=$('<div></div>');let list=$(`<${type}></${type}>`);list.attr('type',$(`${form} select option:selected`).text());for(let i=0;i<$(`${form} input`).val();i++){let item=$('<li>Item</li>');list.append(item);}
listContainer.append(list);$('#text_field').val($('#text_field').val()+listContainer.html());hideFeedback(form);}else{showFeedback(form,'Invalid value');}}
function verifyList(form){let verification=verifyForm(/^[0-9]+$/,`${form} input[type=text]`);let liMark=$(`${form} select option:selected`);if(liMark.index()==0){$(`${form} select`).addClass('is-invalid');verification=false;}else{$(`${form} select`).removeClass('is-invalid');}
return verification;}
function verifyTableForm(){let verification=verifyForm(/^[0-9]+$/,'#table_form input[type = text]');let bsSelected=$('#border_style option:selected');let bs=$('#border_style');let bcSelected=$('#border_color option:selected');let bc=$('#border_color')
if(bsSelected.index()==0){verification=false
bs.addClass('is-invalid')}else if(bs.hasClass('is-invalid')){bs.removeClass('is-invalid')}
if(bcSelected.index()==0){verification=false
bc.addClass('is-invalid')}else if(bc.hasClass('is-invalid')){bc.removeClass('is-invalid')}
return verification;}
function verifyForm(regExp,form){let verification=true;$(form).each((index,element)=>{if(regExp.test($(element).val())==false){$(element).addClass('is-invalid');verification=false}else{$(element).removeClass('is-invalid');}})
return verification;}});